{% extends 'header.html' %} {% load static %} {% block content %}

 <!-- Body: Body -->
 <div class="body d-flex py-lg-3 py-md-2">
    <div class="container-xxl">
        
        <div class="row align-items-center">
            <div class="border-0 mb-4">
                <div class="card-header no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
                    <h3 class="fw-bold mb-0 py-3 pb-2">Generate Invoice</h3>
                    <div class="col-auto py-2 w-sm-100">
                        <ul class="nav nav-tabs tab-body-header rounded invoice-set" role="tablist">
                            {% comment %} <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="invoices.html#Invoice-list" role="tab">Invoice List</a></li>
                            <li class="nav-item"><a class="nav-link  active" data-bs-toggle="tab" href="invoices.html#Invoice-Simple" role="tab">Simple invoice</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="invoices.html#Invoice-Email" role="tab">Email invoice</a></li> {% endcomment %}
                        </ul>
                    </div>
                </div>
            </div>
        </div> <!-- Row end  -->

        <div class="row justify-content-center">
            <div class="col-lg-12 col-md-12">
                <div class="tab-content">
                <!-- tab end  -->
                    <div class="tab-pane fade show active" id="Invoice-Simple">
                        <div class="row justify-content-center">
                            <div class="col-lg-12 col-md-12">
                                <div class="card print_invoice">
                                    <div class="card-body">
                                        <div class="mb-3 pb-3 border-bottom">
                                            Invoice : 
                                            <strong>{{ date }}</strong>
                                            <span class="float-end"> <strong>invoice id:</strong> #SMSELL0000{{ cart_id }}</span>
                                        </div>

                                        <div class="row mb-4">
                                            <div class="col-sm-6">
                                                <h6 class="mb-3">From:</h6>
                                                <div><strong>Kishori Traders and Daily Needs</strong></div>
                                                <div>23, Beyond Of Sahu Ji Vegetables</div>
                                                <div>Vidyanagar, Bilaspur Main Road</div>
                                                <div>Phone: +91 9827875425</div>
                                            </div>
                                            
                                            <div class="col-sm-6">
                                                <h6 class="mb-3">To:</h6>
                                                <div><strong>{{ customer.name }}</strong></div>
                                                <div>Email: {{ customer.email }}</div>
                                                <div>Phone: {{ customer.mobile_number }}</div>
                                            </div>
                                        </div> <!-- Row end  -->
                                        
                                        <div class="table-responsive-sm">
                                            <table class="table table-striped">
                                                <colgroup>
                                                    <col style="width: 10px;"> <!-- Set the width of the first column to 50 pixels -->
                                                    <col style="width: 30px;"> <!-- The width of this column will be the default width -->
                                                    <col style="width: 200px;"> 
                                                    <col style="width: 20px;"> 
                                                    <col style="width: 20px;"> 
                                                    <col style="width: 20px;">  <!-- Set the width of the third column to 100 pixels -->
                                                </colgroup>
                                                <thead>
                                                    <tr>
                                                        <th class="text-center">#</th>
                                                        <th>Item</th>
                                                        <th>Description</th>
                                                        <th class="text-end">Item Cost</th>
                                                        <th class="text-center">Products Item</th>
                                                        <th class="text-end">Total</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for i,j in cart %}
                                                    <tr>
                                                        <td class="text-center">{{ forloop.counter }}</td>
                                                        <td>{{ i.product.name }}</td>
                                                        <td>{{ i.product.short_description|slice:":100" }}.....</td>
                                                        <td class="text-end">₹ {{ i.product.price }}</td>
                                                        <td class="text-center">{{ i.quantity }}</td>
                                                        <td class="text-end">₹ {{ j }}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
        
                                        <div class="row">
                                            <div class="col-lg-4 col-sm-5">
                                            
                                            </div>
                                            
                                            <div class="col-lg-4 col-sm-5 ms-auto">
                                                <table class="table table-clear">
                                                    <tbody>
                                                        <tr>
                                                            <td ><strong>Subtotal</strong></td>
                                                            <td class="text-end">₹ {{ total_price }}</td>
                                                        </tr>
                                                        <tr>
                                                            <td ><strong>Total</strong></td>
                                                            <td class="text-end"><strong>₹ {{ total_price }}</strong></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div> <!-- Row end  -->
        
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <h6>Terms &amp; Conditions</h6>
                                                <p class="text-muted">Items once sold, will not be returned back</p>
                                            </div>
                                        </div> <!-- Row end  -->
                                    </div>
                                </div><br><br>
                                <div class="row">
                                    <div class="col-lg-12 text-start">
                                        <button type="button" class="btn btn-warning btn-lg my-1" onclick="document.title='#SMSELL0000{{ cart_id }}'; window.print();"><i class="fa fa-print"></i> Print Invoice</button>
                                        <a class="btn btn-danger btn-lg my-1" href="{% url 'cart' id=1 %}">Cancel Invoice</a>
                                        <a class="btn btn-success btn-lg my-1" href="{% url 'product_cart_cancel' id="0" payment_method="cash" cust_id=customer.id %}">Cash Payment</a>
                                        <a class="btn btn-info btn-lg my-1" href="{% url 'product_cart_cancel' id="0" payment_method="upi" cust_id=customer.id %}">UPI Payment</a>
                                    </div>
                                </div><br><br><br> <!-- Row end  -->
                            </div>
                        </div> <!-- Row end  -->
                    </div> <!-- tab end  -->
                </div>
            </div>

        </div> <!-- Row end  -->
    </div>
</div>


{% endblock %}